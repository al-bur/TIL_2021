# [210417] CS - 운영체제_가상머신

### 가상머신이란?

가상 머신(Virtual Machine)의 기본적인 개념은 한 컴퓨터의하드웨어(CPU, 메모리, 디스크 드라이브, 네트워크 등)가 다수의 실행 환경을 제공하도록 추상화 하는 것이다. 각 개별적인 실행 환경이 자신만의 독립된 컴퓨터를 사용하는 환경을 제공 하는 것이다.

쉽게 말하면 **컴퓨터 안에 또 다른 컴퓨터를 동작 시키는 것이다**

<br>

### 가상머신의 종류

---

가상 머신은 크게 시스템 가상 머신과 프로세스 가상 머신 두 가지로 나뉘는데 

**시스템 가상 머신**은 실제 기계를 대체해서 제공하며, 전체 운영체제를 실행하기 위한 기능들을 제공하고

**프로세스 가상 머신**은 운영체제와 응용 프로그램 사이에서 실행되는 가상머신이다.

<br>

### 프로세스 가상머신의 목적

---

그렇다면 **프로세스 가상머신의 목적은 무엇일까?**

- 운영 체제 안에서 일반 응용 프로그램을 돌리고 단일 프로세스를 지원
- 아무 플랫폼에서나 같은 방식으로 실행하는 프로그램(플랫폼 독립성)을 허용하고 기초가 되는 하드웨어나 운영 체제의 상세한 부분을 가져오는 독립 프로그래밍 환경을 제공하기 위함

위 두 가지의 이유가 있을 수 있고 다시 한번 설명하자면 프로세스 가상 머신은 플랫폼에 독립적인 환경에서 컴퓨터 프로그램을 실행하기 위해 고안되었는데, 프로그래밍 언어의 하드웨어 추상화를 위해 사용된다. 

<br>

ex) 자바에서 사용되는 **JVM(JAVA Virtual Machine)**을 프로세스 가상머신의 예로 들 수 있다.



![JVM](https://user-images.githubusercontent.com/64825713/115100560-5f60bf80-9f78-11eb-8338-57455a06ad41.png)


- 자바 프로그램 등을 컴파일하여 만들어진 바이트 코드를 실행해주는 가상 머신
- 자바는 프로그램의 수정없이 어떠한 운영체제에서도 동일한 형태로 실행 가능

<br>

### 파이썬에서의 가상머신

---

**파이썬에도 가상머신이 존재할까?**라는 의문이 저절로 생겨서 조사해보았다.

파이썬에서는 **PVM**이라는 것이 존재한다. 자바의 **JVM**과 비슷한 역할을 수행하고 아래는 PVM이 파이썬에서 어떻게 작동하는지 보여주는 내용을 발췌해온 것이다.



> 파이썬도 소스 코드가 있으므로 이를 분석하는 컴파일러가 있습니다. 목적 코드로 기계어를 생성하는 C 언어와 달리 파이썬은 바이트 코드(byte code)를 생성합니다. 바이트 코드가 생성된 후에는 PVM(Python Virtual Machine, 파이썬 가상 머신)에서 바이트 코드를 하나씩 해석하여 프로그램을 실행합니다. 이러한 이유로 PVM을 파이썬 인터프리터라고 부르기도 합니다. 중요한 점은 소스 코드를 분석하는 컴파일 타임이 따로 없고 실행과 동시에 분석을 시작한다는 점입니다. 즉, 소스 코드와 입력 데이터가 같은 시점에 삽입됩니다. 컴파일러 언어와 비교했을 때 가장 큰 차이입니다.

<br>

#### 출처

---

https://thebook.io/006950/ch11/01/02/
https://ko.wikipedia.org/wiki/%EA%B0%80%EC%83%81_%EB%A8%B8%EC%8B%A0
https://webdir.tistory.com/392
