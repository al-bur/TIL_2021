# [210618] CS - HTTPS

![https를 포함하고 있는 링크 사진](https://user-images.githubusercontent.com/64825713/122537958-0f2dd880-d061-11eb-9e96-edfedc87c8f2.png)

위 사이트의 주소를 보면 `https`로 되있는 것을 볼 수 있다. `Github`이외에도, `Google`, `Facebook`, `네이버`등 대부분의 사이트들에서 `https`를 사용하는 것을 알 수 있다.


<br>

**그런데, HTTP와는 무엇이 다른 것일까?**

위의 질문을 대답하는 것이 오늘의 공부였다!

<br>

HTTPS에 대해서 공부를 하기 전에 먼저, HTTP에 대해서 간략한 정의를 적어보려고 한다.

> `Hyper Text Transfer Protocol`의 약자로, 인터넷에서 데이터를 주고받을 수 있는 프로토콜이다. 프로토콜은 규칙으로 이해하면 편하다. 이 규칙에 따라 웹 서버와 클라이언트 간 통신이 진행됩니다.

<br>

### 1.  HTTPS란?

---

**그렇다면, `S` 한 글자만 추가된 `HTTPS`는 무엇일까?**

> [HTTP는 웹을 지탱하는 심플한 기술이지만 치명적인 단점이 있습니다. 브라우저와 웹서버가 통신함에 있어서 주고 받는 데이터가 암호화 되지 않고 생 날것 그대로 전송 되어진다는 점 입니다. ](https://dololak.tistory.com/541)

`HTTPS`는 위처럼 위장이나 도난등의 보안문제가 발생할 수 있는 `HTTP`의 보안문제를 보완하기 위해 SSL(Secure Socket Layer)을 이용하여 데이터 암호화를 추가한 프로토콜이다.

일반적으로, `HTTP`는 직접 TCP와 통신하지만, `HTTPS`의 경우에는 `SSL`을 사용한 경우에는 `HTTP`는 `SSL`과 통신하고 `SSL`이 TCP와 통신하게됩니다.

<br>

### 2. 암호화 방식(SSL)

---

`SSL`을 이용하는 `HTTPS`가 어떠한 암호화 방식을 사용하는지 알아보겠습니다! 

`공개키`, `개인키`, `인증서` 이 세 가지를 통해서 암호화된 통신을 할 수 있게된다.

<br>

#### 절차  - 네이버 server와 client간 `HTTPS` 통신

1. client와 server간 `hand-shake`를 진행한다.
   - client에서 random data를 server로 보내고, server에서도client에서 받은 random data, server에서 생성한 random data, 인증서를 client에게 보낸다.
   - 여기서, 인증서는 별도 인증기관이 네이버가 `인증된 사이트`라는 것을 증명해주는 증명서이다.
2. 네이버의 공개키는 모두에게 공유되어 있는 상태이므로, client는 해당 공개키와 인증서를 가지고 브라우저에 내장된 CA들의 정보를 통해 인증서가 진짜인지 판단을 한다.
   - CA의 인증을 받은 인증서들은  `네이버`의 `개인키`로 암호화되어 있기 때문에, 브라우저가 가지고 있는 `네이버`의 `공개키`로 복호화가 가능하다면, server로부터 전달받은 인증서가 진짜라는 증거가 된다.
3. server와 client에서 생성한 random data를 가지고 임시 키를 만든다.
4. 해당 임시 키는 서버의 공개키로 암호화 되어서 서버로 보내지고, 일련의 과정을 통해 client와 server에서 동일한 공개키를 가지게 된다.
5. 둘 만의 공개키를 통해서 안전하게 통신할 수 있게 된다.

<br>


### 결론

---

블로그 글을 인용하면 마치려고 합니다!

> HTTP는 암호화가 추가되지 않았기 때문에 보안에 취약한 반면, HTTPS는 안전하게 데이터를 주고받을 수 있다. 하지만 HTTPS를 이용하면 암호화/복호화의 과정이 필요하기 때문에 HTTP보다 속도가 느리다.(오늘날에는 거의 차이를 못느낄 정도이다.) 또한 HTTPS는 인증서를 발급하고 유지하기 위한 추가 비용이 발생하다.
>
> 그렇다면 언제 HTTP를 쓰고, 언제 HTTPS를 쓰는 것이 좋겠는가?
>
> 개인 정보와 같은 민감한 데이터를 주고 받아야 한다면 HTTPS를 이용해야 하지만, 단순한 정보 조회 등만을 처리하고 있다면 HTTP를 이용하면 된다.
> [출처-망나니 개발자님 블로그](https://mangkyu.tistory.com/98)



